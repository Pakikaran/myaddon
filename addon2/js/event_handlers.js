function disableEnterKey(b){var a;if(window.event){a=window.event.keyCode}else{a=b.which}return(a!=13)}var ctrlDown=false;var ctrlKey=17,vKey=86,cKey=67;$(document).keydown(function(b){var a=document.getElementById("form1");if($("#display123").is(":visible")==false){if($("#display3").is(":visible")==true){if(((b.keyCode)=="49")||((b.keyCode)=="97")){addDigit2("1");b.preventDefault()}if(((b.keyCode)=="50")||((b.keyCode)=="98")){addDigit2("2");b.preventDefault()}if(((b.keyCode)=="51")||((b.keyCode)=="99")){addDigit2("3");b.preventDefault()}if(((b.keyCode)=="52")||((b.keyCode)=="100")){addDigit2("4");b.preventDefault()}if(((b.keyCode)=="53")||((b.keyCode)=="101")){addDigit2("5");b.preventDefault()}if(((b.keyCode)=="54")||((b.keyCode)=="102")){addDigit2("6");b.preventDefault()}if(((b.keyCode)=="55")||((b.keyCode)=="103")){addDigit2("7");b.preventDefault()}if(((b.keyCode)=="56")||((b.keyCode)=="104")){addDigit2("8");b.preventDefault()}if(((b.keyCode)=="57")||((b.keyCode)=="105")){addDigit2("9");b.preventDefault()}if(((b.keyCode)=="48")||((b.keyCode)=="96")){addDigit2("0");b.preventDefault()}if((b.keyCode)=="110"){addDigit2(".");b.preventDefault()}if((b.keyCode)=="190"){addDigit2(".");b.preventDefault()}if(b.keyCode=="13"){canClear=true;complexOperation();b.preventDefault()}if(b.keyCode=="8"){backSpace3();b.preventDefault()}if(b.keyCode=="27"){clearAll2(a.display);$("#question").hide();$("#calculator").show();b.preventDefault()}if(b.keyCode=="67"&&!ctrlDown&&!b.metaKey){clearAll2(a.display);b.preventDefault()}if(b.keyCode=="192"){revertSign2();b.preventDefault()}}}else{if(((b.keyCode)=="49")||((b.keyCode)=="97")){addDigit(a.display,"1");b.preventDefault()}if(((b.keyCode)=="50")||((b.keyCode)=="98")){addDigit(a.display,"2");b.preventDefault()}if(((b.keyCode)=="51")||((b.keyCode)=="99")){addDigit(a.display,"3");b.preventDefault()}if(((b.keyCode)=="52")||((b.keyCode)=="100")){addDigit(a.display,"4");b.preventDefault()}if(((b.keyCode)=="53"&&!b.shiftKey)||((b.keyCode)=="101")){addDigit(a.display,"5");b.preventDefault()}if(b.keyCode=="53"&&b.shiftKey){calcPercent("*");b.preventDefault()}if(((b.keyCode)=="54")||((b.keyCode)=="102")){addDigit(a.display,"6");b.preventDefault()}if(((b.keyCode)=="55")||((b.keyCode)=="103")){addDigit(a.display,"7");b.preventDefault()}if(((b.keyCode)=="56")||((b.keyCode)=="104")){addDigit(a.display,"8");b.preventDefault()}if(((b.keyCode)=="57")||((b.keyCode)=="105")){addDigit(a.display,"9");b.preventDefault()}if(((b.keyCode)=="48")||((b.keyCode)=="96")){addDigit(a.display,"0");b.preventDefault()}if((b.keyCode)=="110"){addDigit(a.display,".");b.preventDefault()}if((b.keyCode)=="190"){addDigit(a.display,".");b.preventDefault()}if(b.keyCode=="111"){addNow("/");b.preventDefault()}if(b.keyCode=="191"){addNow("/");b.preventDefault()}if(b.keyCode=="107"){addNow("+");b.preventDefault()}if(b.keyCode=="187"){addNow("+");b.preventDefault()}if(b.keyCode=="109"){addNow("-");b.preventDefault()}if(b.keyCode=="189"){addNow("-");b.preventDefault()}if(b.keyCode=="106"){addNow("*");b.preventDefault()}if(b.keyCode=="88"){addNow("*");b.preventDefault()}if(b.keyCode=="13"){canClear=true;enterPressed();b.preventDefault()}if(b.keyCode=="8"){backSpace();b.preventDefault()}if(b.keyCode=="27"){clearAll(a.display);b.preventDefault()}if(b.keyCode=="67"&&!ctrlDown&&!b.metaKey){clearAll(a.display);b.preventDefault()}if(b.keyCode=="192"){revertSign(a.display);b.preventDefault()}}dc()});$(document).keydown(function(a){if(a.keyCode==ctrlKey){ctrlDown=true}}).keyup(function(a){if(a.keyCode==ctrlKey){ctrlDown=false}});$(document).keydown(function(a){if((ctrlDown||a.metaKey)&&(a.keyCode==vKey)){pasteFromClipboard()}if((ctrlDown||a.metaKey)&&(a.keyCode==cKey)){copyToClipboard()}dc()});function clickHandler(a){if(a.srcElement.name=="k1"){addDigit(document.getElementById("display1"),"1")}else{if(a.srcElement.name=="k2"){addDigit(document.getElementById("display1"),"2")}else{if(a.srcElement.name=="k3"){addDigit(document.getElementById("display1"),"3")}else{if(a.srcElement.name=="k4"){addDigit(document.getElementById("display1"),"4")}else{if(a.srcElement.name=="k5"){addDigit(document.getElementById("display1"),"5")}else{if(a.srcElement.name=="k6"){addDigit(document.getElementById("display1"),"6")}else{if(a.srcElement.name=="k7"){addDigit(document.getElementById("display1"),"7")}else{if(a.srcElement.name=="k8"){addDigit(document.getElementById("display1"),"8")}else{if(a.srcElement.name=="k9"){addDigit(document.getElementById("display1"),"9")}else{if(a.srcElement.name=="k0"){addDigit(document.getElementById("display1"),"0")}else{if(a.srcElement.name=="cbPst"){pasteFromClipboard()}else{if(a.srcElement.name=="cbCpy"){copyToClipboard()}else{if(a.srcElement.name=="cbPrct"){calcPercent()}else{if(a.srcElement.name=="cbPrct2"){calcPercent2()}else{if(a.srcElement.name=="kChange"){revertSign(document.getElementById("display1"))}else{if(a.srcElement.name=="kEnter"){enterPressed()}else{if(a.srcElement.name=="kPlus"){addNow("+")}else{if(a.srcElement.name=="kMinus"){addNow("-")}else{if(a.srcElement.name=="kTimes"){addNow("*")}else{if(a.srcElement.name=="kDiv"){addNow("/")}else{if(a.srcElement.name=="kMC"){memClear()}else{if(a.srcElement.name=="kMPlus"){memPlus(false)}else{if(a.srcElement.name=="kMMinus"){memPlus(true)}else{if(a.srcElement.name=="kMR"){memoryRecall()}else{if(a.srcElement.name=="kBkSpc"){backSpace()}else{if(a.srcElement.name=="kDxx"){unaryOperationRight("roundXX")}else{if(a.srcElement.name=="kInt"){unaryOperationRight("int")}else{if(a.srcElement.name=="kCmRand"){complexOp="roundN";complexIsRight=true;$("#calculator").hide();$("#question").show();$.mobile.changePage($("#question"),{transition:"none"},false,true)}else{if(a.srcElement.name=="kEsc"){clearAll(this.form.display)}else{if(a.srcElement.name=="kESCTop"){clearAll(this.form.display)}else{if(a.srcElement.name=="kBtnSqrt"){unaryOperationRight("sqrt",2)}else{if(a.srcElement.name=="kBtnSin"){unaryOperationRight("sin",2)}else{if(a.srcElement.name=="kBtnSinH"){unaryOperationRight("sinh")}else{if(a.srcElement.name=="kBtnAsin"){unaryOperationRight("asin")}else{if(a.srcElement.name=="kBtnLn"){unaryOperationRight("ln")}else{if(a.srcElement.name=="kBtnCube"){unaryOperationRight("rt3",3)}else{if(a.srcElement.name=="kBtnCos"){unaryOperationRight("cos",3)}else{if(a.srcElement.name=="kBtnCosH"){unaryOperationRight("cosh",3)}else{if(a.srcElement.name=="kBtnACos"){unaryOperationRight("acos",3)}else{if(a.srcElement.name=="kBtnLogTen"){unaryOperationRight("log10")}else{if(a.srcElement.name=="kBtnNsq"){complexOp="rtN";complexIsRight=true;$("#calculator").hide();$("#question").show();$.mobile.changePage($("#question"),{transition:"none"},false,true)}else{if(a.srcElement.name=="kBtnTan"){unaryOperationRight("tan",3)}else{if(a.srcElement.name=="kBtnTanH"){unaryOperationRight("tanh",3)}else{if(a.srcElement.name=="kBtnAtan"){unaryOperationRight("atan",3)}else{if(a.srcElement.name=="kBtnLOGn"){complexOp="logN";complexIsRight=true;$("#calculator").hide();$("#question").show();$.mobile.changePage($("#question"),{transition:"none"},false,true)}else{if(a.srcElement.name=="kBtnSquare"){unaryOperationRight("sqr")}else{if(a.srcElement.name=="kBtnCot"){unaryOperationRight("cot",3)}else{if(a.srcElement.name=="kBtnCotN"){unaryOperationRight("coth",3)}else{if(a.srcElement.name=="kBtnACot"){unaryOperationRight("acot",3)}else{if(a.srcElement.name=="kBtnPI"){pi()}else{if(a.srcElement.name=="kBtCmCube"){unaryOperationRight("cube")}else{if(a.srcElement.name=="kBtCmSec"){unaryOperationRight("sec",1)}else{if(a.srcElement.name=="kBtCmSecH"){unaryOperationRight("sech",1)}else{if(a.srcElement.name=="kBtCmASec"){unaryOperationRight("asec",1)}else{if(a.srcElement.name=="kBtnCmdE"){eNum()}else{if(a.srcElement.name=="kUglyButton"){complexOp="powN";complexIsRight=true;$("#calculator").hide();$("#question").show();$.mobile.changePage($("#question"),{transition:"none"},false,true)}else{if(a.srcElement.name=="kBtnRad"){isDegrees=false;f()}else{if(a.srcElement.name=="kBtnDeg"){isDegrees=true;f()}else{if(a.srcElement.name=="kbEXP"){unaryOperationRight("exp",1)}else{if(a.srcElement.name=="kbRNDbtn"){unaryOperationRight("random")}else{if(a.srcElement.name=="kbClrSecScr"){clearAll2()}else{if(a.srcElement.name=="kbBackSecScr"){backSpace3()}else{if(a.srcElement.name=="kbs7"){addDigit2("7")}else{if(a.srcElement.name=="kbs8"){addDigit2("8")}else{if(a.srcElement.name=="kbs9"){addDigit2("9")}else{if(a.srcElement.name=="kbs4"){addDigit2("4")}else{if(a.srcElement.name=="kbs5"){addDigit2("5")}else{if(a.srcElement.name=="kbs6"){addDigit2("6")}else{if(a.srcElement.name=="kbs1"){addDigit2("1")}else{if(a.srcElement.name=="kbs2"){addDigit2("2")}else{if(a.srcElement.name=="kbs3"){addDigit2("3")}else{if(a.srcElement.name=="kbsZero"){addDigit2("0")}else{if(a.srcElement.name=="kbsCncl"){$("#question").hide();$("#calculator").show()}else{if(a.srcElement.name=="enter2"){complexOperation()}else{if(a.srcElement.name=="dotPoint"){addDigit2(".")}else{if(a.srcElement.name=="kDot"){addDigit(document.getElementById("display1"),".")}else{if(a.srcElement.name=="revert2"){revertSign2(document.getElementById("display123"))}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}document.addEventListener("DOMContentLoaded",function(){document.getElementById("kbClrSecScr").addEventListener("click",clickHandler);document.getElementById("dotPoint").addEventListener("click",clickHandler);document.getElementById("manualBgr").addEventListener("change",clickHandler);document.getElementById("kDot").addEventListener("click",clickHandler);document.getElementById("kbsCncl").addEventListener("click",clickHandler);document.getElementById("enter2").addEventListener("click",clickHandler);document.getElementById("kbs7").addEventListener("click",clickHandler);document.getElementById("kbs8").addEventListener("click",clickHandler);document.getElementById("kbs9").addEventListener("click",clickHandler);document.getElementById("kbs4").addEventListener("click",clickHandler);document.getElementById("kbs5").addEventListener("click",clickHandler);document.getElementById("kbs6").addEventListener("click",clickHandler);document.getElementById("kbs1").addEventListener("click",clickHandler);document.getElementById("kbs2").addEventListener("click",clickHandler);document.getElementById("kbs3").addEventListener("click",clickHandler);document.getElementById("kbsZero").addEventListener("click",clickHandler);document.getElementById("kbBackSecScr").addEventListener("click",clickHandler);document.getElementById("kbEXP").addEventListener("click",clickHandler);document.getElementById("kbRNDbtn").addEventListener("click",clickHandler);document.getElementById("kBtnSquare").addEventListener("click",clickHandler);document.getElementById("btnRad").addEventListener("click",clickHandler);document.getElementById("btnDeg").addEventListener("click",clickHandler);document.getElementById("kUglyButton").addEventListener("click",clickHandler);document.getElementById("kBtnCmdE").addEventListener("click",clickHandler);document.getElementById("kBtCmSec").addEventListener("click",clickHandler);document.getElementById("kBtCmASec").addEventListener("click",clickHandler);document.getElementById("kBtCmSecH").addEventListener("click",clickHandler);document.getElementById("kBtnCot").addEventListener("click",clickHandler);document.getElementById("kBtCmCube").addEventListener("click",clickHandler);document.getElementById("kBtnPI").addEventListener("click",clickHandler);document.getElementById("kBtnACot").addEventListener("click",clickHandler);document.getElementById("kBtnCotN").addEventListener("click",clickHandler);document.getElementById("kBtnLOGn").addEventListener("click",clickHandler);document.getElementById("kBtnNsq").addEventListener("click",clickHandler);document.getElementById("kBtnTan").addEventListener("click",clickHandler);document.getElementById("kBtnAtan").addEventListener("click",clickHandler);document.getElementById("kBtnTanH").addEventListener("click",clickHandler);document.getElementById("kBtnCube").addEventListener("click",clickHandler);document.getElementById("kBtnLogTen").addEventListener("click",clickHandler);document.getElementById("kBtnCos").addEventListener("click",clickHandler);document.getElementById("kBtnCosH").addEventListener("click",clickHandler);document.getElementById("kBtnACos").addEventListener("click",clickHandler);document.getElementById("kBtnSqrt").addEventListener("click",clickHandler);document.getElementById("kBtnSin").addEventListener("click",clickHandler);document.getElementById("kBtnSinH").addEventListener("click",clickHandler);document.getElementById("kBtnAsin").addEventListener("click",clickHandler);document.getElementById("kBtnLn").addEventListener("click",clickHandler);document.getElementById("k1").addEventListener("click",clickHandler);document.getElementById("k2").addEventListener("click",clickHandler);document.getElementById("k3").addEventListener("click",clickHandler);document.getElementById("k4").addEventListener("click",clickHandler);document.getElementById("k5").addEventListener("click",clickHandler);document.getElementById("k6").addEventListener("click",clickHandler);document.getElementById("k7").addEventListener("click",clickHandler);document.getElementById("k8").addEventListener("click",clickHandler);document.getElementById("k9").addEventListener("click",clickHandler);document.getElementById("k0").addEventListener("click",clickHandler);document.getElementById("cbCpy").addEventListener("click",clickHandler);document.getElementById("cbPst").addEventListener("click",clickHandler);document.getElementById("cbPrct").addEventListener("click",clickHandler);document.getElementById("cbPrct2").addEventListener("click",clickHandler);document.getElementById("kChange").addEventListener("click",clickHandler);document.getElementById("revert2").addEventListener("click",clickHandler);document.getElementById("enter").addEventListener("click",clickHandler);document.getElementById("plus").addEventListener("click",clickHandler);document.getElementById("kMinus").addEventListener("click",clickHandler);document.getElementById("kTimes").addEventListener("click",clickHandler);document.getElementById("kDiv").addEventListener("click",clickHandler);document.getElementById("kMC").addEventListener("click",clickHandler);document.getElementById("kMPlus").addEventListener("click",clickHandler);document.getElementById("kMMinus").addEventListener("click",clickHandler);document.getElementById("kMR").addEventListener("click",clickHandler);document.getElementById("kBkSpc").addEventListener("click",clickHandler);document.getElementById("kDxx").addEventListener("click",clickHandler);document.getElementById("kInt").addEventListener("click",clickHandler);document.getElementById("kCmRand").addEventListener("click",clickHandler);document.getElementById("kEsc").addEventListener("click",clickHandler);document.getElementById("kESCTop").addEventListener("click",clickHandler);setFullScreen();isDegrees=(localStorage.deg_selected=="true");if(typeof isDegrees=="undefined"){isDegrees=false}if(isDegrees==true){$("#btnRad").button("enable");$("#btnRad").button("refresh");$("#btnDeg").button("disable");$("#btnDeg").button("refresh")}else{$("#btnRad").button("disable");$("#btnRad").button("refresh");$("#btnDeg").button("enable");$("#btnDeg").button("refresh")}function e(){if(navigator.onLine){chrome.tabs.create({url:"http://www.melanto.com/calculator/readme.html"})}}function b(){if(navigator.onLine){chrome.tabs.create({url:"http://www.melanto.com/calculator/whatsnew.html"})}}function a(){var g=chrome.app.getDetails();return g.version}var c=a();var d=localStorage.version;if(c!=d){if(typeof d=="undefined"){e()}else{}localStorage.version=c}});